---
import type { Post } from "@interf/post";

const {
  className,
  posts,
  fluid,
  category,
}: { className: any; posts: Post[]; fluid: any; category: string } =
  Astro.props as {
    className: any;
    posts: Post[];
    fluid: any;
    category: string;
  };


---

<div
  class={`relative col-12 flex flex-col gap-[30px] w-full max-w-full md:flex-row justify-center ${className}`}
>
  <div class="relative max-w-[100%] md:max-w-[calc(60%-15px)] w-full sm:px-1 md:px-0 overflow-hidden rounded-[20px] md:h-[574px] after:content:[''] after:w-full after:h-full after:absolute after:top-0 after:left-0 after:bg-[#000] after:opacity-[.5] after:z-[0] z-1 on-hover-escape after:duration-[.5s] ease-in-out">
    {
      posts[0]?.imageUrl && (
        <a
          href={`/${posts[0].slug}/`}
          class="rounded-[20px] block self-center hover:text-primary overflow-hidden group"
        >
          <img
            class=" transition duration-300 object-cover w-full h-full overflow-hidden"
            srcset={`
          ${posts[0].imageSmallUrl} ${posts[0].imageSmallWidth}w,
          ${posts[0].imageMediumUrl} ${posts[0].imageMediumWidth}w
        `}
            sizes={"(max-width: 768px) 480px, (min-width: 769px) 500px"}
            src={posts[0].imageMediumUrl || ""}
            width={posts[0].imageMediumWidth}
            height={posts[0].imageMediumHeight}
            alt={posts[0].title}
            fetchpriority={"high"}
            loading={"eager"}
            decoding="async"
          />
          <div class="w-full hover-show absolute bottom-[0px] left-[50%]  z-[2]">
            <h2 class="w-full py-3 ms-0 me-3 px-3 font-semibold z-10 md:text-[40px] text-[18px] leading-[26px] md:leading-[48px]">
            {posts[0].title}
          </h2>
            <div class="w-full px-[30px] flex gap-[10px]">                 
                <span class="author text-[14px] text-[#DB3334]">Meddiah Crew</span>
                <span class="text-[#fff] text-[14px]">{posts[0].categories}</span>
                <span class="tag text-[#fff] text-[14px]">people</span>
              </div>
            </div>
          {/* <div class="absolute z-2 h-full inset-x-0 sm:mx-1 md:mx-2 bottom-0 gradient-shadow rounded-md" /> */}
        </a>
      )
    }
  </div>
  <div
    class="flex flex-col max-w-[100%] md:max-w-[calc(40%-15px)] w-full justify-start gap-[30px] sm:px-1 md:px-2"
  >
    {
      posts.map(
        (post: Post, i: number) =>
          i !== 0 && (
            <div class="flex flex-row gap-4 overflow-hidden rounded-[20px] z-1 relative after:content:[''] after:w-full after:h-full after:absolute after:top-0 after:left-0 after:bg-[#000] after:opacity-[.5] after:z-[0] h-[272px] on-hover-escape after:duration-[.5s] ease-in-out">
              <a
                href={`/${post.slug}/`}
                class="rounded-md block self-center hover:text-primary overflow-hidden group h-[272px]"
              >
                {post.imageUrl && (
                  <img
                    class=" transition duration-300 w-full h-full"
                    src={
                      post.imageSmallUrl
                        ? post.imageSmallUrl
                        : post.imageMediumUrl || ""
                    }
                    width={
                      post.imageSmallWidth
                        ? post.imageSmallWidth
                        : post.imageMediumWidth
                    }
                    height={
                      post.imageSmallHeight
                        ? post.imageSmallHeight
                        : post.imageMediumHeight
                    }
                    alt={post.title}
                    fetchpriority={"high"}
                    loading={"eager"}
                    decoding="async"
                  />
                )}
                <div class="w-full hover-show absolute bottom-[0px] left-[50%]  z-[2]">
                  <h2 class="text-[#fff] transition duration-300 text-[20px] w-full px-[30px] py-[10px]">
                    {post.title}
                  </h2>
                  <div class="w-full px-[30px] flex gap-[10px]">                 
                      <span class="author text-[14px] text-[#DB3334]">Meddiah Crew</span>
                      <span class="text-[#fff] text-[14px]">{post.categories}</span>
                      <span class="tag text-[#fff] text-[14px]">people</span>
                    </div>
                  </div>
              </a>
              {/* <div class="w-[250px]">
                <a href={`/${post.slug}/`} class="block">
                  
                </a>
              </div> */}
            </div>
          )
      )
    }
    <!-- <a
      href="/categories/all/"
      class="block w-full transition duration-300 mx-auto mt-2 bg-primary hover:bg-primary/75 rounded-3xl p-2 text-center text-white text-2xl font-bold"
      >READ ALL ARTICLES</a
    > -->
  </div>
</div>
